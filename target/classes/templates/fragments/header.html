<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<link
	href="http://cdn.jsdelivr.net/webjars/bootstrap/3.3.6/css/bootstrap.min.css"
	th:href="@{/webjars/bootstrap/3.3.6/css/bootstrap.min.css}"
	rel="stylesheet" media="screen" />

<link
	href="http://cdn.jsdelivr.net/webjars/font-awesome/4.6.2/css/font-awesome.min.css"
	th:href="@{/webjars/font-awesome/4.6.2/css/font-awesome.min.css}"
	rel="stylesheet" media="screen" />

<script src="http://cdn.jsdelivr.net/webjars/jquery/2.1.4/jquery.min.js"
	th:src="@{/webjars/jquery/2.1.4/jquery.min.js}"></script>

<script
	src="http://cdn.jsdelivr.net/webjars/bootstrap/3.3.6/js/bootstrap.min.js"
	th:src="@{/webjars/bootstrap/3.3.6/js/bootstrap.min.js}"
	type="text/javascript"></script>
</head>
<body>
	<nav class="navbar navbar-default" th:fragment="header" style="border-radius:0">
		
		<div class="container-fluid">
		
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header" >
				<button type="button" class="navbar-toggle collapsed"
					data-toggle="collapse" data-target="#navbar"
					aria-expanded="false">
					<span class="sr-only">Menu</span> <span class="icon-bar"></span> <span
						class="icon-bar"></span> <span class="icon-bar"></span>
				</button>

				<a class="navbar-brand" th:href="@{/home}" sec:authorize="isAuthenticated()"> 
					<img th:src="@{/img/logo_cursilho.png}" />
				</a>

			</div>

			<!-- Collect the nav links, forms, and other content for toggling -->
			<div id="navbar" class="collapse navbar-collapse">
			
				<!-- Usuario -->
				<ul class="nav navbar-nav">
					<th:block sec:authorize="hasAnyRole('ROLE_LIST_USER', 'ROLE_ADMIN_USER')">
						<li class="dropdown"><a href="#" class="dropdown-toggle"
							data-toggle="dropdown" role="button" aria-haspopup="true"
							aria-expanded="false" sec:authorize="isAuthenticated()" th:text="#{app.web.menu.user.title}">Usuário
								<span class="caret"></span>
						</a>
							<ul class="dropdown-menu">
							
								<th:block sec:authorize="hasRole('ROLE_LIST_USER')">
									<li><a href="/admin" th:href="@{/user/list}" th:text="#{app.web.menu.user.list}">Lista</a></li>
								</th:block>	
								
								<th:block sec:authorize="hasRole('ROLE_ADMIN_USER')">
									
									<li><a href="/admin" th:href="@{/user/admin}" th:text="#{app.web.menu.user.admin}">Administração</a></li>
								</th:block>
							</ul></li>
					</th:block>
				</ul>
				
				
				<!-- Casa de Retiro -->
				<ul class="nav navbar-nav">
					<th:block sec:authorize="hasAnyRole('ROLE_LIST_RETREAT_HOUSE', 'ROLE_ADMIN_RETREAT_HOUSE')">
					
						<li class="dropdown"><a href="#" class="dropdown-toggle"
							data-toggle="dropdown" role="button" aria-haspopup="true"
							aria-expanded="false" sec:authorize="isAuthenticated()" th:text="#{app.web.menu.retreathouse.title}">Retreat House
								<span class="caret"></span>
						</a>
	
							<ul class="dropdown-menu">
							
								<th:block sec:authorize="hasRole('ROLE_LIST_RETREAT_HOUSE')">
									<li><a href="/admin" th:href="@{/retreathouse/list}" th:text="#{app.web.menu.retreathouse.list}">Lista</a></li>
								</th:block>
								
								<th:block sec:authorize="hasRole('ROLE_ADMIN_RETREAT_HOUSE')">							
									
									<li><a href="/admin" th:href="@{/retreathouse/admin}" th:text="#{app.web.menu.retreathouse.admin}">Administração</a></li>
								</th:block>
							</ul></li>
							
					</th:block>
				</ul>
				
				<!-- Retiro -->
				<ul class="nav navbar-nav">
					<th:block sec:authorize="hasAnyRole('ROLE_LIST_RETREAT', 'ROLE_ADMIN_RETREAT')">
					
						<li class="dropdown"><a href="#" class="dropdown-toggle"
							data-toggle="dropdown" role="button" aria-haspopup="true"
							aria-expanded="false" sec:authorize="isAuthenticated()" th:text="#{app.web.menu.retreat.title}">Retreat
								<span class="caret"></span>
						</a>
	
							<ul class="dropdown-menu">
							
								<th:block sec:authorize="hasRole('ROLE_LIST_RETREAT')">
									<li><a href="/admin" th:href="@{/retreat/list}" th:text="#{app.web.menu.retreat.list}">Lista</a></li>
								</th:block>
								
								<th:block sec:authorize="hasRole('ROLE_ADMIN_RETREAT')">
									
									<li><a href="/admin" th:href="@{/retreat/admin}" th:text="#{app.web.menu.retreat.admin}">Administração</a></li>
								</th:block>
							</ul></li>
							
					</th:block>
				</ul>
				
				<!-- Cursilhista -->
				<ul class="nav navbar-nav">
					<th:block sec:authorize="hasAnyRole('ROLE_LIST_CURSILHISTA', 'ROLE_ADMIN_CURSILHISTA')">
					
						<li class="dropdown"><a href="#" class="dropdown-toggle"
							data-toggle="dropdown" role="button" aria-haspopup="true"
							aria-expanded="false" sec:authorize="isAuthenticated()" th:text="#{app.web.menu.cursilhista.title}">Cursilhista
								<span class="caret"></span>
						</a>
	
							<ul class="dropdown-menu">
							
								<th:block sec:authorize="hasRole('ROLE_LIST_CURSILHISTA')">
									<li><a href="/admin" th:href="@{/cursilhista/list}" th:text="#{app.web.menu.cursilhista.list}">Lista</a></li>
								</th:block>
								
								<th:block sec:authorize="hasRole('ROLE_ADMIN_CURSILHISTA')">
									
									<li><a href="/admin" th:href="@{/cursilhista/admin}" th:text="#{app.web.menu.cursilhista.admin}">Administração</a></li>
								</th:block>
							</ul></li>
							
					</th:block>
				</ul>
				
				<!-- Candidate -->
				<ul class="nav navbar-nav">
					<th:block sec:authorize="hasAnyRole('ROLE_LIST_CANDIDATE', 'ROLE_ADMIN_CANDIDATE')">
					
						<li class="dropdown"><a href="#" class="dropdown-toggle"
							data-toggle="dropdown" role="button" aria-haspopup="true"
							aria-expanded="false" sec:authorize="isAuthenticated()" th:text="#{app.web.menu.candidate.title}">Inscricao de Candidato
								<span class="caret"></span>
						</a>
	
							<ul class="dropdown-menu">
							
								<th:block sec:authorize="hasRole('ROLE_LIST_CANDIDATE')">
									<li><a href="/admin" th:href="@{/candidate/list}" th:text="#{app.web.menu.cursilhista.list}">Lista</a></li>
								</th:block>
								
								<th:block sec:authorize="hasRole('ROLE_ADMIN_CANDIDATE')">
									
									<li><a href="/admin" th:href="@{/candidate/admin}" th:text="#{app.web.menu.cursilhista.admin}">Administração</a></li>
								</th:block>
							</ul></li>
							
					</th:block>
				</ul>
				
				<!-- Report -->
				<ul class="nav navbar-nav">
					<th:block sec:authorize="hasAnyRole('ROLE_ADMIN_REPORT')">
					
						<li class="dropdown">
							<a href="#" class="dropdown-toggle"
								data-toggle="dropdown" role="button" aria-haspopup="true"
								aria-expanded="false" sec:authorize="isAuthenticated()" th:text="#{app.web.admin.generateReport.mirante}">Mirante
								<span class="caret"></span>
							</a>
	
							<ul class="dropdown-menu">
							
								<th:block sec:authorize="hasRole('ROLE_ADMIN_REPORT')">
									<li><a href="/admin" th:href="@{/report/admin}" th:text="#{app.web.admin.generateReport.generate}">Gerar</a></li>
								</th:block>
								
							</ul></li>
							
					</th:block>
				</ul>
				
				<th:block sec:authorize="hasAnyRole('ROLE_LIST_USER', 'ROLE_ADMIN_USER')">
				
					<ul class="nav navbar-nav">
						<li class="dropdown">
							<a href="#" class="dropdown-toggle"
								data-toggle="dropdown" role="button" aria-haspopup="true"
								aria-expanded="false" sec:authorize="isAuthenticated()" th:text="#{app.web.menu.report.title}">Relatórios
									<span class="caret"></span>
							</a>
						    <ul class="dropdown-menu">
						    	<li><a href="/admin" th:href="@{/audit/report}" th:text="#{app.web.audit.report.menu.title}">Auditoria</a></li>
						    	<!-- 
						    	<li><a href="/admin" th:href="@{/user/report}" th:text="#{app.web.admin.title.menu.report}">Usuário</a></li>
						    	<li><a href="/admin" th:href="@{/cursilhista/report}" th:text="#{app.web.menu.retreat.title}">XXXXX</a></li>
						    	<li><a href="/admin" th:href="@{/retreat/report}" th:text="#{app.web.menu.retreat.title}">XXXXX</a></li>
						    	<li><a href="/admin" th:href="@{/retreathouse/report}" th:text="#{app.web.menu.retreathouse.title}">XXXXX</a></li>
						    	<li><a href="/admin" th:href="@{/candidate/report}" th:text="#{app.web.menu.candidate.title}">XXXXX</a></li>
						    	 -->
							</ul>
						</li>
					</ul>
					
				</th:block>
				<!--  
				<ul class="nav navbar-nav">
					<li class="dropdown">
						<a href="#" class="dropdown-toggle"
							data-toggle="dropdown" role="button" aria-haspopup="true"
							aria-expanded="false" sec:authorize="!isAuthenticated()" th:text="#{app.web.menu.stamp.title}">Selos
								<span class="caret"></span>
						</a>
					    <ul class="dropdown-menu">							
						    <li><a href="/stamp/search" th:href="@{/stamp/search}" th:text="#{app.web.menu.stamp.validate}">Validar Selo</a></li>
						</ul>
					</li>
				</ul>
				  -->
				<ul class="nav navbar-nav navbar-right">
					<li class="dropdown" sec:authorize="isAuthenticated()"><a
						href="#" class="dropdown-toggle" data-toggle="dropdown"
						role="button" aria-haspopup="true" aria-expanded="false"
						sec:authorize="isAuthenticated()"><i class="fa fa-user fa-fw"></i>
							<small sec:authentication="name"></small> <span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li sec:authorize="isAuthenticated()"><a
								th:href="@{/login/edit}" th:text="#{app.web.menu.login.changepassword}"><i class="fa fa-key"
									aria-hidden="true"></i> Alterar Senha</a></li>
							<li sec:authorize="isAuthenticated()"><a href="/logout"
								th:href="@{/logout}" th:text="#{app.web.menu.login.logout}"><i class="fa fa-sign-out"
									aria-hidden="true"></i> Logout</a></li>
						</ul></li>
					<li sec:authorize="!isAuthenticated()"><a href="/login"
						th:href="@{/login}" ><i class="fa fa-sign-in"
							aria-hidden="true"></i> <span th:text="#{app.web.login.signin}">Sign in</span></a></li>
					
				</ul>
			</div>
			<!-- /.navbar-collapse -->
		</div>
		<!-- /.container-fluid -->
	</nav>
</body>
</html>